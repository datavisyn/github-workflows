name: Lint github actions
                            
runs:
  using: "composite"
  steps:
    - name: Check workflow files
      run: |
        echo $GITHUB_WORKSPACE
        echo $GITHUB_WORKFLOW
        echo $RUNNER_WORKSPACE
        echo $RUNNER_EVENT_PATH
        printenv
        echo "::add-matcher::.github/actions/lint-github-actions/actionlint-matcher.json"
        bash <(curl https://raw.githubusercontent.com/rhysd/actionlint/v1.6.22/scripts/download-actionlint.bash)
        ./actionlint -color
      shell: bash
    - name: Check bash files
      run: |
        find . -type f ! -path "./.git/*" -exec sh -c "head -n 1 {} | egrep -a 'bin/bash|bin/sh' >/dev/null" \; -print -exec shellcheck {} \;
      shell: bash
    

